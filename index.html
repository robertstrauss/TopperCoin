<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>TopperCoin</title>
    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
    <link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">
    <link href="style.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <!-- info button and title/h1 -->
    <table id="topbar">
      <td><span id="address">
        <button onclick="document.getElementById('login').style.display = 'inline-block';">
          log in/register
        </button>
      </span></td>
      <td><h1><center>
        TopperCoin
      </center></h1></td>
      <td style="text-align:right;margin:0;">
        <button onclick="document.getElementById('about').style.display='inline-block'">?</button>
      </td>
    </table>

    <div id="dash">

        <!-- info blocks -->
        <div class="flex" style="flex: 1 1 10%;">
            <!-- balance -->
            <div class="cell infoblock">
              <span id="tpcbalance">0</span> TPC<br>
              ~ $<span id="usdbalance">0.00</span><br>
              <button onclick="document.getElementById('tpcbalance').innerHTML = calcBalance(myaddress);">check balance</button>
            </div>

            <!-- send TPC -->
            <div class="cell infoblock">
              <form id="makepaymentform" onsubmit="maketransaction(); return false"> <!-- method="GET" action="payment.php" target="emptyframe"> <!- -  onsubmit="makepayment();return false" -->
                <table align="center">
                  <tr><td>send</td><td><input type="number" id="amount" step="0.0001" min="0"/></td><td>TPC</td></tr>
                  <tr><td>to</td><td colspan="2"><input type="text" id="recipient"/></td></tr>
                  <tr><td colspan="3">
                  <button style="width:100%;margin:0">send</button>
                  </td></tr>
                </table>
              </form>
            </div>
        </div>

        <!-- mining stats and graph -->
        <div class="flex cell" style="flex: 4 1 50%;">
          <h2>Mining - <span id="hashrate">stopped</span></h2>
          <div id="mininggraph" style="display: table-cell">
            <!--<button onclick="startmining();">start mining</button>-->
          </div>
        </div>

        <!-- transactions involving the user -->
        <div class="flex cell" style="flex: 2 1 30%;">
          <h2>Relevant transactions</h2>
        </div>

        <!-- preview of the blockchain -->
        <div class="flex cell" style="flex: 5 1 50%;">
          <h2>Blockchain Preview</h2>
          <div id="bcpreviewontainer">
            <div id="blockchainpreview"></div>
          </div>
        </div>

    </div>

    <!-- modal of about section -->
    <div id="about" class="modal">
      <div class="modal-content">
        <div style="text-align:right;"><button onclick="document.getElementById('about').style.display='none'">X</button></div>
        <h2>About TopperCoin</h2>
        <p>
          TopperCoin is a cryptocurrency, like BitCoin, built by and for LAHS students (HillToppers, thus the name).
          Anyone on the network can make and recieve payments to and from others.
          Or, you can make essentially <b>free money</b> by "mining" for the network.
        </p>
        <h3>FAQ</h3>
        <ul>
          <li>What is a cryptocurrency?</li>
            <p>A cryptocurrency is a system of money that is <u>entirely digital</u>.
              Payments are recorded securely on a computer, and it's effectively just as real as normal money.
            </p>
          <li>How do I use it?</li>
            <p>To use the TopperCoin network, simply create a username and... that's it!
              No, really, that's all you have to do to get started.
              Once you have done that, you can pay anyone else on the network in TPC (TopperCoins).
              Get others you know to join too, so you can pay and get payed by them.
              <br><br>
              Another way to use the network is to <u>"mine"</u> for it.
              This uses the processing power of your computer for the network, and you <b>get payed for doing nothing!</b>
            </p>
          <li>How is it different from BitCoin or other cryptocurrencies?</li>
            <p>TopperCoin is a very simple cryptocurrency, because it is meant only for LAHS.
              This meant simplifying things so to be best suited for the circumstances.
              It is distributed, rather than fully decentralized, for example.
              Also, the mining difficulty is extremely low, since it is meant to run on chromebooks.
            </p>
          <li>What is "mining?"</li>
          <p>"Mining" is exchanging your computer power for money, put simply.
            More centrally, mining is a key part of how the network works.
            Essentially, by mining your computer is doing many, many calculations very quickly to validate transactions.
            Normally, a hacker might fake a transaction from one user to themselves to take that user's money.
            Mining prevents this by putting a massive computational barrier in the way.
          </p>
        </ul>
      </div>
    </div>



    <!-- modal of login -->
    <div id="login" class="modal">
      <div class="modal-content">
        <div style="text-align:right;"><button onclick="document.getElementById('login').style.display='none'">X</button></div>
        <h2>Log in</h2>
        <form onsubmit="login()">
          username: <input id="loginaddress"/><br>
          password: <input type="password" id="loginpassword"/><br>
          <button>log in</button>
        </form>
        <h2>Register</h2>
        <form onsubmit="register()">
          create username: <input type="text" id="registeraddress" pattern="[a-zA-Z0-9]+"
                            oninvalid="setCustomValidity('must be numbers/letters only')"
                            onchange="try{setCustomValidity('')}catch(e){}"/><br>
          create password: <input type="password" id="registerpassword1"/><br>
          verify password: <input type="password" id="registerpassword2"/><br>
          <button>submit</button>
        </form>
      </div>
    </div>


    <!-- syncing modal -->
    <div id="syncingmodal" class="modal">
      <div class="modal-content">
        <div style="text-align:right;"><button onclick="document.getElementById('syncingmodal').style.display='none'">X</button></div>
        <h2>Syncing Blockchain</h2>
        <p>This may take a few minutes. Please be patient.</p>
      </div>
    </div>

    <!-- the javascript that loads the blockchain, make the blockchain preview, and calculates balance. -->
    <!-- <script src="blockchain.json"></script> -->
    <script src="/socket.io/socket.io.js"></script> <!-- for communication with server -->
    <script src="cryptico/cryptico.min.js"></script> <!-- for sha256 -->
    <script src="script.js"></script> <!-- TopperCoin! -->
  </body>
</html>
